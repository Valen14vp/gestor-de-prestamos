{% extends "base.html" %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'prestamos/css/estilos.css' %}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
{% endblock %}

{% block titulo %}Inicio{% endblock %}

{% block contenido %} 

<div class="grid-layout"> 
    <div class="caja2">
        <main>
            <div class="carrousel">
                <div class="grande">
                    <img src="{% static 'prestamos/imagenes/9135437.jpg' %}" alt="Imagen 1" class="img">
                    <img src="{% static 'prestamos/imagenes/Pmo7millones_SlideHome_1 1.png' %}" alt="Imagen 2" class="img">
                </div>
                <ul class="puntos">
                    <li class="punto activo"></li>
                    <li class="punto"></li>
                </ul>
            </div>
            <div class="relleno">
                <div class="productos">
                    <img src="{% static 'prestamos/imagenes/9135383.jpg' %}" alt="">
                </div>
                <div class="productos">
                    <img src="{% static 'prestamos/imagenes/9135484.jpg' %}" alt="">
                </div>
                <div class="productos">
                    <img src="{% static 'prestamos/imagenes/MastercardDebitoRotativo.png' %}" alt="">
                </div>
            </div>
            <div class="cotizaciones">
                <div class="tradingview-widget-container">
                    <div class="tradingview-widget-container__widget"></div>
                    <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
                    {
                    "symbols": [
                    { "proName": "FOREXCOM:SPXUSD", "title": "S&P 500 Index" },
                    { "proName": "FOREXCOM:NSXUSD", "title": "US 100 Cash CFD" },
                    { "proName": "FX_IDC:EURUSD", "title": "EUR to USD" },
                    { "proName": "BITSTAMP:BTCUSD", "title": "Bitcoin" },
                    { "proName": "BITSTAMP:ETHUSD", "title": "Ethereum" }
                    ],
                    "showSymbolLogo": true,
                    "isTransparent": false,
                    "displayMode": "adaptive",
                    "colorTheme": "dark",
                    "locale": "es"
                }
                    </script>
                </div>
            </div>
        </main>
    </div>

</div>

<style>
/* Estilos Responsivos */
.grid-layout {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
}

.carrousel {
    width: 100%;
    overflow: hidden;
    position: relative;
}

.grande {
    display: flex;
    transition: transform 0.5s ease-in-out;
    width: 200%;
}

.grande img {
    width: 50%;
    object-fit: cover;
}

.relleno {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    padding: 10px;
}

.productos img {
    max-width: 100%;
    height: auto;
}

.footer {
    width: 100%;
    text-align: center;
    padding: 10px;
}

@media (max-width: 768px) {
    .grid-layout {
        flex-direction: column;
    }

    .caja2, .caja3 {
        width: 100%;
    }

    .grande {
        width: 200%;
    }

    .productos img {
        max-width: 80%;
    }
}
</style>

<script>
'use strict';
document.addEventListener("DOMContentLoaded", function () {
    const grande = document.querySelector('.grande');
    const puntos = document.querySelectorAll('.punto');

    let index = 0;
    function cambiarImagen() {
        index = (index + 1) % puntos.length;
        let operacion = index * -50;
        grande.style.transform = `translateX(${operacion}%)`;

        puntos.forEach(p => p.classList.remove('activo'));
        puntos[index].classList.add('activo');
    }

    puntos.forEach((punto, i) => {
        punto.addEventListener('click', () => {
            index = i;
            let operacion = index * -50;
            grande.style.transform = `translateX(${operacion}%)`;

            puntos.forEach(p => p.classList.remove('activo'));
            punto.classList.add('activo');
        });
    });

    setInterval(cambiarImagen, 5000);
});
</script>

{% endblock %}
